<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="SSAP_MAUI.Views.LoginPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="登录"
             BackgroundColor="{StaticResource Tertiary}">
    
    <Grid>
        <!-- Header -->
        <Frame Grid.Row="0" 
               BackgroundColor="{StaticResource Primary}"
               HasShadow="True"
               CornerRadius="0,0,24,24"
               HeightRequest="90"
               VerticalOptions="Start">
            <Label Text="登录"
                   FontFamily="NotoSansSC"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="White"
                   VerticalOptions="End"
                   HorizontalOptions="Start"
                   Margin="32,0,0,18" />
        </Frame>

        <!-- Main Content -->
        <StackLayout Grid.Row="0" 
                     Padding="24"
                     VerticalOptions="Center"
                     Spacing="16">

            <!-- Username Entry -->
            <Entry Text="{Binding Username}"
                   Placeholder="用户名"
                   FontFamily="NotoSansSC"
                   FontSize="18"
                   TextColor="{StaticResource Gray900}"
                   PlaceholderColor="{StaticResource Secondary}"
                   BackgroundColor="Transparent" />

            <!-- Username Underline -->
            <BoxView BackgroundColor="{StaticResource Secondary}"
                     HeightRequest="1"
                     Margin="0,-10,0,0" />

            <!-- Password Entry -->
            <Entry Text="{Binding Password}"
                   Placeholder="密码"
                   IsPassword="True"
                   FontFamily="NotoSansSC"
                   FontSize="18"
                   TextColor="{StaticResource Gray900}"
                   PlaceholderColor="{StaticResource Secondary}"
                   BackgroundColor="Transparent" />

            <!-- Password Underline -->
            <BoxView BackgroundColor="{StaticResource Secondary}"
                     HeightRequest="1"
                     Margin="0,-10,0,16" />

            <!-- Error Message -->
            <Label Text="{Binding ErrorMessage}"
                   TextColor="Red"
                   FontFamily="NotoSansSC"
                   FontSize="14"
                   HorizontalTextAlignment="Center" />

            <!-- Login Button / Loading Indicator -->
            <Grid HeightRequest="48">
                <Button Text="登录"
                        Command="{Binding LoginCommand}"
                        BackgroundColor="{StaticResource Primary}"
                        TextColor="White"
                        FontFamily="NotoSansSC"
                        FontSize="20"
                        FontAttributes="Bold"
                        CornerRadius="12" />
                
                <ActivityIndicator IsRunning="{Binding IsLoading}"
                                   IsVisible="{Binding IsLoading}"
                                   Color="{StaticResource Primary}"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center" />
            </Grid>

        </StackLayout>
    </Grid>
    
</ContentPage>